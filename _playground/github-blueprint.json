{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "plugins": [
    "woocommerce"
  ],
  "features": {
    "intl": true
  },
  "landingPage": "/wp-admin/admin.php?page=wc-settings&tab=shipping",
  "steps": [
    {
      "step": "importWxr",
      "file": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/nagpai/free-shipping-excluder/main/_playground/sample_products.xml"
      }
    },
    {
      "step": "setSiteOptions",
      "options": {
        "woocommerce_store_address": "suite 212",
        "woocommerce_store_address_2": "",
        "woocommerce_store_city": "San Francisco",
        "woocommerce_default_country": "US:CA",
        "woocommerce_store_postcode": "94110",
        "woocommerce_allowed_countries": "all",
        "woocommerce_all_except_countries": [],
        "woocommerce_specific_allowed_countries": [],
        "woocommerce_ship_to_countries": "all",
        "woocommerce_default_customer_address": "base",
        "woocommerce_calc_taxes": "no",
        "woocommerce_enable_coupons": "yes",
        "woocommerce_calc_discounts_sequentially": "no",
        "woocommerce_currency": "USD",
        "woocommerce_currency_pos": "left",
        "woocommerce_price_thousand_sep": ",",
        "woocommerce_price_decimal_sep": ".",
        "woocommerce_price_num_decimals": "2"
      }
    },
    {
      "step": "mkdir",
      "path": "/wordpress/wp-content/plugins/woo-shipping-method"
    },
    {
      "step": "writeFile",
      "path": "/wordpress/wp-content/plugins/woo-shipping-method/woo-shipping-method.php",
      "data": {
        "resource": "url",
        "url": "https://raw.githubusercontent.com/wordpress/blueprints/trunk/blueprints/woo-shipping/woo-shipping-method/woo-shipping-method.php"
      }
    },
    {
      "step": "activatePlugin",
      "pluginName": "woo-shipping-method",
      "pluginPath": "woo-shipping-method/woo-shipping-method.php"
    },
    {
      "step": "runPHP",
      "code": "<?php include '/wordpress/wp-load.php'; delete_transient( '_wc_activation_redirect' ); wp_insert_post(array( 'import_id' => 5, 'post_title' => 'Sample Product', 'post_content' => '<!-- wp:paragraph --><p>Sample product description</p><!-- /wp:paragraph -->','post_status' => 'publish','post_type' => 'product','post_author' => 1, 'meta_input' => array('_sku' => 'WEBTOFFEE-FEED-ITEM', '_regular_price' => 25.00, '_sale_price' => 22.00, '_price' => 22.00, '_wt_feed_brand' => 'WebToffee', '_wt_feed_gtin' => 'WEBTOFFEE123', '_wt_feed_mpn' => 'WebToffee123', '_wt_feed_color' => 'Red', '_wt_feed_gender' => 'Male' ) ) );"
    },
    {
      "step": "login",
      "username": "admin"
    }
  ],
  "siteOptions": {
    "blogName": "Free Shipping Excluder Test"
  }
}
